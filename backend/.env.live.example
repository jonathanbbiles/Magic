APCA_API_KEY_ID=YOUR_ALPACA_KEY_ID
APCA_API_SECRET_KEY=YOUR_ALPACA_SECRET_KEY
# Alternate key envs also supported:
# ALPACA_KEY_ID, ALPACA_API_KEY_ID, ALPACA_API_KEY
# Alternate secret envs also supported:
# ALPACA_SECRET_KEY, ALPACA_API_SECRET_KEY
# Use either ALPACA_API_BASE or TRADE_BASE for live trading.
TRADE_BASE=https://api.alpaca.markets
# ALPACA_API_BASE=https://api.alpaca.markets
DATA_BASE=https://data.alpaca.markets
TRADING_ENABLED=true
API_TOKEN=CHANGE_ME_TO_A_LONG_RANDOM_STRING
# Optional: allow LAN/device origins for Expo.
CORS_ALLOW_LAN=true
# === Exits & Risk ===
SELL_REPRICE_ENABLED=1
EXIT_CANCELS_ENABLED=1
EXIT_MARKET_EXITS_ENABLED=1
ALLOW_TAKER_BEFORE_TARGET=1
# Faster rotation / less stale orders:
SELL_ORDER_TTL_MS=15000
MIN_REPRICE_INTERVAL_MS=15000
REPRICE_IF_AWAY_BPS=6
MAX_HOLD_SECONDS=300
# Safety: default OFF, but available:
EXIT_CANCELS_FORCE_ALL=0

# Alpaca market-data throttling (helps avoid HTTP 429 on bars)
BARS_MAX_CONCURRENT=2
BARS_MIN_TIME_MS=300
ENTRY_PREFETCH_CHUNK_SIZE=80

# --- Entry tuning ---
# Predictor threshold. Your model outputs ~0.53 frequently; 0.55 starves entries.
MIN_PROB_TO_ENTER=0.53

# Entry-side gross take-profit target (bps). Defaults to DESIRED_NET_PROFIT_BASIS_POINTS if unset.
TARGET_PROFIT_BPS=100

# Stop-loss (bps). If unset, backend scales from TARGET_PROFIT_BPS; override here if desired.
STOP_LOSS_BPS=50

# Entry buffer (bps) added into spread gate only (small sanity margin)
ENTRY_BUFFER_BPS=10

# EV guard (corrected to maker-first fees via feeBpsRoundTrip()).
EV_GUARD_ENABLED=true
EV_MIN_BPS=5
EV_BUFFER_BPS=0

# Fees (bps). feeBpsRoundTrip() = maker + (taker_on_touch ? taker : maker)
FEE_BPS_MAKER=10
FEE_BPS_TAKER=20

# Optional slippage (bps) added to EV cost model
SLIPPAGE_BPS=0
